

var mydatabase= [
    {
        id: 1,
        image_url: "https://images.bewakoof.com/t640/men-s-black-oversized-sweatshirt-555427-1671801629-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Black Oversized Sweatshirt",
        price:764,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "sweatshirt",
        sizes : {
            XS: true,
            S: true,
            M: true,
            L: true,
            
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.3
    },
    {
        id: 2,
        image_url: "https://images.bewakoof.com/t640/men-s-blue-zipper-hoodie-363707-1672410888-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Blue Zipper Hoodie",
        price:764,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: true,
            S: false,
            M: true,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    },

    {
        id: 3,
        image_url: "https://images.bewakoof.com/t640/men-s-teal-blue-hoodie-499039-1674553104-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Teal Blue Hoodie",
        price:899,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: true,
            S: true,
            M: false,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    },

    {
        id: 4,
        image_url: "https://images.bewakoof.com/t640/men-0-05-goku-badge-printed-sweatshirt-551684-1668513057-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Blue Goku Badge Printed Sweatshirt",
        price:899,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: true,
            S: true,
            M: true,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    },

    {
        id: 5,
        image_url: "https://images.bewakoof.com/t640/men-0-05-goku-badge-printed-sweatshirt-551684-1668513057-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Blue Goku Badge Printed Sweatshirt",
        price:899,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: true,
            S: true,
            M: true,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    },

    {
        id: 6,
        image_url: "https://images.bewakoof.com/t640/men-0-05-goku-badge-printed-sweatshirt-551684-1668513057-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Blue Goku Badge Printed Sweatshirt",
        price:899,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: true,
            S: true,
            M: true,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    },

    {
        id: 7,
        image_url: "https://images.bewakoof.com/t640/men-0-05-goku-badge-printed-sweatshirt-551684-1668513057-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Blue Goku Badge Printed Sweatshirt",
        price:899,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: true,
            S: true,
            M: false,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    },

    {
        id: 8,
        image_url: "https://images.bewakoof.com/t640/men-0-05-goku-badge-printed-sweatshirt-551684-1668513057-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Blue Goku Badge Printed Sweatshirt",
        price:899,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: false,
            S: true,
            M: false,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    },
    {
        id: 9,
        image_url: "https://images.bewakoof.com/t640/men-0-05-goku-badge-printed-sweatshirt-551684-1668513057-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Blue Goku Badge Printed Sweatshirt",
        price:899,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: false,
            S: true,
            M: false,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    },
    {
        id: 10,
        image_url: "https://images.bewakoof.com/t640/men-0-05-goku-badge-printed-sweatshirt-551684-1668513057-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Blue Goku Badge Printed Sweatshirt",
        price:899,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: false,
            S: false,
            M: false,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    },
    {
        id: 11,
        image_url: "https://images.bewakoof.com/t640/men-0-05-goku-badge-printed-sweatshirt-551684-1668513057-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Blue Goku Badge Printed Sweatshirt",
        price:899,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: false,
            S: true,
            M: false,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    },
    {
        id: 12,
        image_url: "https://images.bewakoof.com/t640/men-0-05-goku-badge-printed-sweatshirt-551684-1668513057-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Blue Goku Badge Printed Sweatshirt",
        price:899,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: false,
            S: false,
            M: true,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    },
    {
        id: 13,
        image_url: "https://images.bewakoof.com/t640/men-0-05-goku-badge-printed-sweatshirt-551684-1668513057-1.jpg", 
        brand: "Bewakoof",
        name: "Men's Blue Goku Badge Printed Sweatshirt",
        price:899,
        strikeprice: 1099,
        tribememprice: 699,
        fav: false,
        //filtered keys and value
        type: "hoodie",
        sizes : {
            XS: false,
            S: true,
            M: false,
            L: true
        },
        color :{
            black: true,
            blue: true,
            green: true,
            yellow: true,
        },
        rating:4.6,
    }

]

    // mydatabase.map(function(elem, index){
    // console.log(elem.image_url)
    // })
    document.querySelector(".total-product-count").textContent=mydatabase.length;

    displayProducts(mydatabase);
    function displayProducts(data){
        document.querySelector("#right").textContent="";
        data.map(function(elem, index){
            var div= document.createElement("div");
            div.setAttribute("class", "container");

            var img= document.createElement("img");
            img.setAttribute("src",elem.image_url)
            img.setAttribute("class", "img")

            var h3= document.createElement("h3");
            h3.textContent=elem.name;

            var p=document.createElement("p");
            p.textContent=elem.price;

            var strikeprice=document.createElement("p");
            strikeprice.textContent=elem.strikeprice;

            div.append(img, h3, p, strikeprice);
            document.querySelector("#right").append(div);
        })
    }

    //code for the left side drop down
   
    const dropdownToggle = document.querySelector('.dropdown-toggle');
const dropdownMenu = document.querySelector('.dropdown-menu');

dropdownToggle.addEventListener('click', function () {
  dropdownMenu.classList.toggle('show');
  dropdownToggle.parentNode.classList.toggle('show');
});

//code for the size filtration process

var filtered = JSON.parse(localStorage.getItem("filtered-list")) || [];
dropdownMenu.addEventListener('click', function (event) {
    var selectedSize = event.target.innerHTML;
    mydatabase.map(function (elem, ind) {
        if(elem.sizes[selectedSize] == true){
            if(filtered.indexOf(elem) === -1) {
                event.target.style.color="red";
                
                filtered.push(elem);
                
            }
                ////
                else {
                    event.target.style.color="";
                    filtered = filtered.filter(function(e) {
                        return e !== elem;
                    });
                }

                
            ////
        }
    });

    localStorage.setItem("filtered-list", JSON.stringify(filtered));
    if (filtered.length !=0){
        displayProducts(filtered)
        document.querySelector(".total-product-count").textContent=filtered.length;
    }
    else{
        localStorage.clear;
        location.reload();
    }
    
    
  });

  

